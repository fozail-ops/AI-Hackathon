<!-- Shared Header Component -->
<mat-toolbar class="bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50">
  <div class="container mx-auto flex items-center justify-between px-4 w-full">
    <!-- Logo -->
    <a routerLink="/" class="flex items-center gap-3 no-underline">
      <div class="w-10 h-10 rounded-xl bg-indigo-600 flex items-center justify-center text-white">
        <mat-icon>groups</mat-icon>
      </div>
      <span class="text-xl font-bold text-gray-900">StandupBot</span>
    </a>

    <!-- Navigation -->
    <nav class="hidden md:flex items-center gap-1">
      <a mat-button routerLink="/standup" routerLinkActive="bg-indigo-50 text-indigo-700" class="text-gray-700">
        <mat-icon class="mr-1">edit_note</mat-icon>
        Today's Standup
      </a>
      <a mat-button routerLink="/history" routerLinkActive="bg-indigo-50 text-indigo-700" class="text-gray-700">
        <mat-icon class="mr-1">history</mat-icon>
        My History
      </a>
      @if (isTeamLead()) {
        <a mat-button routerLink="/team" routerLinkActive="bg-indigo-50 text-indigo-700" class="text-gray-700">
          <mat-icon class="mr-1">dashboard</mat-icon>
          Team Dashboard
        </a>
      }
    </nav>

    <!-- User Menu -->
    @if (currentUser(); as user) {
      <button mat-button [matMenuTriggerFor]="userMenu" class="flex items-center gap-2">
        <div 
          class="w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium"
          [style.backgroundColor]="user.avatarColor">
          {{ getUserInitials(user) }}
        </div>
        <span class="hidden sm:inline text-gray-700">{{ user.name }}</span>
        <mat-icon class="text-gray-500">arrow_drop_down</mat-icon>
      </button>
      <mat-menu #userMenu="matMenu">
        <div class="px-4 py-3 border-b border-gray-100">
          <div class="font-medium text-gray-900">{{ user.name }}</div>
          <div class="text-sm text-gray-500">{{ user.email }}</div>
          <div class="mt-1">
            @if (user.role === UserRole.Lead) {
              <span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800">
                <mat-icon class="text-xs">star</mat-icon>
                {{ UserRoleLabels[user.role] }}
              </span>
            } @else {
              <span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700">
                {{ UserRoleLabels[user.role] }}
              </span>
            }
          </div>
        </div>
        <button mat-menu-item (click)="logout()">
          <mat-icon class="text-red-500">logout</mat-icon>
          <span>Sign Out</span>
        </button>
      </mat-menu>
    }
  </div>
</mat-toolbar>
